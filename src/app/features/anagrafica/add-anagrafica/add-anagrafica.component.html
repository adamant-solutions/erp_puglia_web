<app-breadcrumbs
  [crumbsList]="breadcrumbList"
  [currentPage]="'Nuova Anagrafica'"
>
</app-breadcrumbs>

<section class="pt-4 pb-5">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h1 id="main-content" class="mb-5">{{ pageTitle }}</h1>

        <form [formGroup]="addForm" (ngSubmit)="onSubmit()" class="row g-3">
          <div class="col-12">
            <!-- cittadino -->
            <fieldset formGroupName="cittadino">
              <legend>CITTADINO:</legend>

              <div class="row d-flex">
                <div class="col-md-4 mb-3">
                  <label class="form-label" for="nome">Nome *</label>
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="nome"
                      name="nome"
                      formControlName="nome"
                    />
                    <span class="input-group-text">
                      <i class="bi bi-person-circle"></i>
                    </span>
                  </div>
                  <span
                    class="custom-error"
                    *ngIf="
                      addForm.get('cittadino.nome')?.errors &&
                      !addForm.value.cittadino.nome &&
                      (addForm.get('cittadino.nome')?.touched || submitted)
                    "
                  >
                    Nome è obbligatorio!
                  </span>
                </div>

                <div class="col-md-4 mb-3">
                  <label class="form-label" for="cognome">Cognome *</label>
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="cognome"
                      name="cognome"
                      formControlName="cognome"
                    />
                    <span class="input-group-text">
                      <i class="bi bi-person-circle"></i>
                    </span>
                  </div>
                  <span
                    class="custom-error"
                    *ngIf="
                      addForm.get('cittadino.cognome')?.errors &&
                      !addForm.value.cittadino.cognome &&
                      (addForm.get('cittadino.cognome')?.touched || submitted)
                    "
                  >
                    Cognome è obbligatorio!
                  </span>
                </div>

                <div class="col-md-4 mb-3">
                  <label class="form-label" for="codiceFiscale"
                    >Codice fiscale *</label
                  >
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="codiceFiscale"
                      name="codiceFiscale"
                      formControlName="codiceFiscale"
                    />
                    <span class="input-group-text">
                      <i class="bi bi-ticket-detailed"></i>
                    </span>
                  </div>
                  <span
                    class="custom-error"
                    *ngIf="
                      addForm.get('cittadino.codiceFiscale')?.errors &&
                      !addForm.value.cittadino.codiceFiscale &&
                      (addForm.get('cittadino.codiceFiscale')?.touched ||
                        submitted)
                    "
                  >
                    Codice fiscale è obbligatorio!
                  </span>
                </div>
              </div>

              <div class="row d-flex">
                <div class="col-md-4 mb-3">
                  <label class="form-label" for="genere">Genere *</label>
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="genere"
                      name="genere"
                      formControlName="genere"
                    />
                    <span class="input-group-text">
                      <i class="bi bi-gender-neuter"></i>
                    </span>
                  </div>
                  <span
                    class="custom-error"
                    *ngIf="
                      addForm.get('cittadino.genere')?.errors &&
                      !addForm.value.cittadino.genere &&
                      (addForm.get('cittadino.genere')?.touched || submitted)
                    "
                  >
                    Genere è obbligatorio!
                  </span>
                </div>

                <div class="col-md-4 mb-3">
                  <label class="form-label" for="cittadinanza"
                    >Cittadinanza *</label
                  >
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="cittadinanza"
                      name="cittadinanza"
                      formControlName="cittadinanza"
                    />
                    <span class="input-group-text">
                      <i class="bi bi-buildings"></i>
                    </span>
                  </div>
                  <span
                    class="custom-error"
                    *ngIf="
                      addForm.get('cittadino.cittadinanza')?.errors &&
                      !addForm.value.cittadino.cittadinanza &&
                      (addForm.get('cittadino.cittadinanza')?.touched ||
                        submitted)
                    "
                  >
                    Cittadinanza è obbligatoria!
                  </span>
                </div>

                <div class="col-md-4 mb-3">
                  <label class="form-label" for="dataDiNascita"
                    >Data di nascita *</label
                  >
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="dataDiNascita"
                      name="dataDiNascita"
                      formControlName="dataDiNascita"
                    />
                    <span class="input-group-text">
                      <i class="bi bi-calendar"></i>
                    </span>
                  </div>
                  <span
                    class="custom-error"
                    *ngIf="
                      addForm.get('cittadino.dataDiNascita')?.errors &&
                      !addForm.value.cittadino.dataDiNascita &&
                      (addForm.get('cittadino.dataDiNascita')?.touched ||
                        submitted)
                    "
                  >
                    Data di nascita è obbligatoria!
                  </span>
                </div>
              </div>
            </fieldset>
          </div>

          <div class="col-12 mt-5 d-flex justify-content-between">
            <button
              type="button"
              class="btn btn-outline-primary py-2"
              (click)="cancelForm()"
            >
              <i class="bi bi-x-circle me-1"></i>
              Annulla
            </button>

            <button type="submit" class="btn btn-primary py-2">Aggiungi</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
